Привет!

Я хотела бы рассказать вам о том, как можно использовать возможности фотошопа прямо в браузере.

Вы, наверное, помните, что раньше в CSS не было таких простых и прекрасных вещей как тени, градиенты или скругленные уголки - всё это делалось картинками.
Сейчас мы можем просто написать любой из этих эффектов с помощью CSS, даже не открывая графический редактор.

Чем это круто?

Во-первых, CSS-свойства могут изменяться динамически, например, тень может менять свой цвет, ещё с помощью тени можно имитировать движение элемента над поверхностью страницы (поднимается-опускается, плавает над поверхностью) - и вам не нужно готовить ворох картинок для всех этих случаев - теперь всё это умеет CSS.

Во-вторых, вся эта красота описана в коде и посетителю не нужно ждать загрузки картинок, чтобы увидеть тени и градиенты - они отрисовываются сразу. Меньше картинок -> меньше запросов к серверу -> сайт работает быстрее.

Раньше такие графические рюшечки были доступны только с помощью фотошопа, и когда они появились в CSS - это было похоже на волшебство.

Все уже, наверное привыкли, но меня всё ещё завоваживает когда из мира фотошопа в мир верстки попадает что-то новое.

К чему это я.

Все знакомы с режимами смешивания в фотошопе. Это когда мы берем слои, накладываем их один на другой и определяем как они будут взаимодействовать друг с другом: просто просвечивать или же как-то хитро смешиваться.

Режимы смешивания слоев позволяют делать много интересного.

До недавнего времени управлять смешиванием можно было только в графических редакторах, но сейчас это можно сделать и в браузере! Пока не в полной мере, но всё же.

В CSS режимы смешивания представлены в двух вариантах: background-blend-mode и mix-blend-mode.

background-blend-mode - это смешивание слоев фона, mix-blend-mode - управление наложением элементов на странице.

Как это работает?
Так же как в фотошопе, и даже значения свойств такие же (хотя и не все):

normal
multiply
screen
overlay
darken
lighten
color-dodge
color-burn
hard-light
soft-light
difference
exclusion
hue
saturation
color
luminosity

Так как background-blend-mode лучше поддерживается браузерами, я выбрала его для демонстрации режимов смешивания.
Напомню, что с помощью background-blend-mode мы управляем наложением слоев фона. (Все же знают, что элементу можно задавать несколько фонов одновременно?)

Посмотрим в действии: вот есть картинка с котиками, под ней цветной фон.
Поменяем режимы смешивания и посмотрим что получается:

(демо с котиком и выбором режимов наложения)

Самым верхним слоем картинка, ниже цвет.

Всё это работает прямо в браузере : )

Причем мы не ограничены двумя слоямии фона их содержимым.

Слоев может быть больше двух, и они могут содержать, не только картинки, но и градиенты. Использование режимов смешивания для градиентов открывает новые возможности создания паттернов, потому что слои с и без того сложными узорами теперь могут взаимодействовать между собой новыми интересными способами.

---(несколько демо с градиентами, вкл./выкл режимы смешивания)

Как это всё (режимы смешивания) можно использовать в практических целях? Например, можно перекрашивать картинки в цвет сайта.

---(демо с цветными картинками в дизайне + слайдер для цветов)

Теперь, если изменится цветовая схема, вам не нужно будет заново перекрашивать картинки в фотошопе - достаточно будет изменить фоновый цвет!

---(Градиенты для виньеток на фото)

Как задать режим наложения в CSS? Очень просто, главное помнить о слоях фона.

Начнем с background-blend-mode.

Возьмем, к примеру, картинку с котиком и зададим её фоном:

background: url(http://placekitten.com/250/200);

Для наложения слоев обязательное условие, чтобы слоев было больше одного. В нашем случае первым слоем будет цвет (teal).

background: teal url(http://placekitten.com/250/200);

Теперь можно добавить режим наложения, например:

background: teal url(http://placekitten.com/250/200);
background-blend-mode: hard-light;

(пошаговое появление слоев справа от кода (цвет - картинка - режим смешивания))

Как я уже говорила, слоев фона может быть больше двух, и для каждого слоя можно отдельно задавать режим наложения:

---(тлен)

Что интересно, порядок наложение картинки и цвета тоже играет роль. Эффект наложения цвета на картинку выглядит иначе, чем наложение картинки на цвет

---(демо)

Второе свойство - mix-blend-mode - управляет наложением друг на друга элементов страницы.

Задается вот таким образом:

img { mix-blend-mode: multiply; }
...

Результат будет выглядеть вот так:

(Море поверх моря)

это скрин, потому что свойство ещё не очень хорошо поддерживается.

Поддержка браузерами:

---(слайд)

Плохие новости: IE не поддерживает никакие режимы смешивания вообще.

Хорошие новости: если режимы смешивания не поддерживаются,  в большинстве случаев на странице ничего не поломается - картинки просто останутся как есть.

Остальные браузеры:

background-blend-mode поддерживается в свежих Chrome, Firefox, Opera (примерно с лета). Поддержка в Safari будет начиная с 8-й версии. То есть уже можно начинать потихоньку использовать для каких-то декторативных штук.

mix-blend-mode - последний Firefo(32), но со странностями, Chrome с 31 под флагом, поддержка в Safari будет в 8-й версии.

---(слайд)

Чтобы поиграться с mix-blend-mode в Хроме, включите флаг chrome://flags/#enable-experimental-web-platform-features

Лучше всего с режимами смешивания в canvas - все современные браузеры кроме IE. Но это уже не CSS : )

Узнать актуальную поддержку браузерами можно на http://caniuse.com/#search=blend


...............................................................................................................................
