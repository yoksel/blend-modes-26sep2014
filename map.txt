Привет!

Я хотела бы рассказать вам о том, как можно использовать возможности фотошопа прямо в браузере.

Все, наверное, знают, что раньше красивости вроде градиентов или теней можно было сделать только картинками - сейчас это можно легко сделать с помощью CSS даже не открывая графический редактор.

Так вот, недавно из фотошопа в CSS попала ещё одна замечательная штука: режимы наложения.

Все знакомы с режимами наложения в фотошопе. Это когда мы берем слои, накладываем их один на другой и определяем как они будут взаимодействовать друг с другом: просто просвечивать или же как-то хитро смешиваться.

С недавнего времени это можно делать прямо в браузере с помощью CSS.

В CSS режимы смешивания представлены в двух вариантах: background-blend-mode и mix-blend-mode.

background-blend-mode - это смешивание слоев фона, mix-blend-mode - управление наложением элементов на странице.

Вот список возможных значений, из немного меньше чем в фотошопе:

normal
multiply
screen
overlay
darken
lighten
color-dodge
color-burn
hard-light
soft-light
difference
exclusion
hue
saturation
color
luminosity

Так как background-blend-mode лучше поддерживается браузерами, я выбрала его для демонстрации режимов смешивания.
Напомню, что с помощью background-blend-mode мы управляем наложением слоев фона. (Все же знают, что элементу можно задавать несколько фонов одновременно?)

Посмотрим в действии: вот есть картинка с котиками, под ней цветной фон.
Поменяем режимы смешивания и посмотрим что получается:

(демо с котиком и выбором режимов наложения)

Самым верхним слоем картинка, ниже цвет.

Всё работает также, как в фотошопе, только прямо у вас в браузере : )

Причем мы не ограничены двумя слоямии фона их содержимым.

Слоев может быть больше двух, и они могут содержать, не только картинки, но и градиенты.

Использование режимов смешивания для градиентов открывает новые возможности создания паттернов, потому что слои с и без того сложными узорами теперь могут взаимодействовать между собой новыми интересными способами.

И из простых паттернов с помощью режимов смешивания можно получить более сложные.

---(несколько демо с градиентами, вкл./выкл режимы смешивания)

Как это всё (режимы смешивания) можно использовать в практических целях? Например, можно перекрашивать картинки в цвет сайта.

---(демо с цветными картинками в дизайне + слайдер для цветов)

Теперь, если изменится цветовая схема, вам не нужно будет заново перекрашивать картинки в фотошопе - достаточно будет изменить фоновый цвет!

(выпилено)
---(Градиенты для виньеток на фото)

Как задать режим наложения в CSS?

Начнем с background-blend-mode.

Для наложения слоев обязательное условие, чтобы слоев было больше одного. В нашем случае первым слоем будет цвет (teal).

background: teal url(http://placekitten.com/250/200);

Теперь можно добавить режим наложения, например:

background: teal url(http://placekitten.com/250/200);
background-blend-mode: hard-light;

(пошаговое появление слоев справа от кода (цвет - картинка - режим смешивания))

Как я уже говорила, слоев фона может быть больше двух, и для каждого слоя можно отдельно задавать режим наложения:

---(тлен)

Вот так без особых усилий можно сделать тленограм прямо в браузере.

Что интересно, порядок наложение картинки и цвета тоже играет роль. Эффект наложения цвета на картинку выглядит иначе, чем наложение картинки на цвет

---(демо)

Если вы выберите вариант с цветом поверх картинки, следует помнить, что в браузерах без поддержки режимов наложения будет виден только верхний слой - цвет. Будьте внимательны.

Второе свойство - mix-blend-mode - управляет наложением друг на друга элементов страницы.

Задается вот таким образом:

img { mix-blend-mode: multiply; }
...

Причем можно задать ражим наложения для контейнера с элементами, и он сработает для всех элементов внутри контейнера. Таким образом можно задать режим наложения для всей страницы, например.

Результат работы mix-blend-mode будет выглядеть вот так:

(Море поверх моря)

это скрин, потому что свойство ещё не очень хорошо поддерживается.

Поддержка браузерами:

---(слайд)

Плохие новости: IE не поддерживает никакие режимы смешивания вообще.

Хорошие новости: если режимы смешивания не поддерживаются,  в большинстве случаев на странице ничего не поломается - картинки просто останутся как есть.

Остальные браузеры:

background-blend-mode поддерживается в свежих Chrome, Firefox, Opera (примерно с лета). Поддержка в Safari будет начиная с 8-й версии. То есть уже можно начинать потихоньку использовать для каких-то декторативных штук.

mix-blend-mode - последний Firefo(32), но со странностями, Chrome с 31 под флагом, поддержка в Safari будет в 8-й версии.

---(слайд)

Чтобы поиграться с mix-blend-mode в Хроме, включите флаг chrome://flags/#enable-experimental-web-platform-features

Лучше всего с режимами смешивания в canvas - все современные браузеры кроме IE. Но это уже не CSS : )

Узнать актуальную поддержку браузерами можно на http://caniuse.com/#search=blend


...............................................................................................................................
